language: generic
sudo: required
services:
- docker
before_install:
- docker build -t danielguarise/docker-react -f Dockerfile.dev .
script:
- docker run -e CI=true danielguarise/docker-react npm run test
deploy:
  provider: elasticbeanstalk
  region: "eu-central-1"
  app: "docker-react"
  env: "DockerReact-env"
  bucket_name: "elasticbeanstalk-eu-central-1-683308798494"
  bucket_path: "docker-react"
  on:
    branch: master
  access_key_id: "$AWS_ACCESS_KEY"
  #  secure: "cbzXLA8Mt8RqXmNdm8fdJ37XZ+a6w77Ut2F4A+wlWwpOKAD/Usj1bHy+807NvupXMNdyX42R9NMiQlEL4lw1yH9GhV9QD1pvdUSvWVqonqdheYeb20+f5i0du/rGLe84IsZ45j9hqPTs7fY0kHEkRpHyB5e48lVFepiTIQCvbvFNmj4DAXnOtn/XoXfOSJgLMavSFwRlNAt2adg7rGxHHJTfS3GuAg25fz3j4RFplK5Q24PzOGbvZDSvBrIUqpuIkt94NHYunAJ2nPeGkM8/DdO4uFvX2ZZdCFFOel0i7G1DVjlopB+iH3zHCnbiYyF+GuuHy+gV4wub1Nl+X8V9WZlKzI5A3z9rWJgzMW23Sp00vUGAsivns7A21tP+E858DdH/S7CHyG0uBxXOhDfZkDcBByC52ReYUkt3D1XIWLj3SiAIHPYKyPKJiG2aEjXFzO1A0Ezr7vXpLxpRT2FgImzMXGNBslinswap0e8XfThscUDP6DTlCYDWrg8w+nFeB8OTgGIxiKalH4B+3f7e8lKPhOKoKJBCFF6IiPwzM5eZplXCfP2U5r25TZyZPx2aM6/mqQGkVBZS/tgz1uBq9y9UBIIJsohC0vmRijhcBNZbwsQEgtiuPjYnZ4sBgsCWXWXyZI5hMgKgL5Ibq93OapwzGxfbOgIHJMpQkGZV1DI="
  secret_access_key: "$AWS_SECRET_KEY"
  #  secure: "jvPpYxdbN6acPWXyUtRPerh+idmeFuRsYDOi+BHBI4MACleF3Oo/iIkhUflkCUd+7KL7eIc1Q1ToQ493feqImDAnDf/kyqpdsmhSjYarzxoZ/mM4IU6PtDJlGoDqj4UaP9z+p7Q5ifSHScURDdeoaCAxjQ8f0y040rxxwBtu+iaw20Gam4B7c/2usm8iVkOtxK5rGH2FB/qUtdJymq/xPvAfiDjq2wkhpZWM2KKag0bI9jlp68GumzcgFadNR+TQb+iknpb9TDZ20zMLU2Z1ZA0MvVJEWskuJKknQyDOcs8kpQ7K7/WOmJdflOKz4afT6bMldJ/p2aU/wR89WIhaAaX/n2zeja4PAfr3TXU6In8sZAHdy0Wtj0PtJzq3zmszUyVKYGQ0BQXuWyHH956lxs1VpiS6oJx5NePs4Y2FKhLTLp8TkxV0K/2sjaWWCUHW+Pf8fcTMSa+TEcNrfxtljSgMRtbR9pj75q23asG0twLomjyqFcy8cBr5LIrHqU2pO0n2G7+fG3SymPH5f5e//H7WEDPV4vwH1EIBdfDR5CU1aUB5Lq5aQMTQdADskCNGpphYKeMXmQpfIKSS0jWwoOd16tw9khYciUV6WUjHmtBsqO2THKBFnIl90tWq/gNtiQdgynFV4HCmHXpsFAwBRM15wVHDEZ+FYcRvK2cDLGU="